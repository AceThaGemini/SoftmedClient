<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/custom.css" rel="stylesheet">
    <link href="../css/sidepanel.css" rel="stylesheet">
    <link href="../css/alerts.css" rel="stylesheet">

    <link href="../css/workplan.css" rel="stylesheet">

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>

<body>

<div class="page affected-by-sidepanel">
    <div id="sidePanelContainer"></div>

    <div id="mainpanel" class="mainpanel affected-by-sidepanel">
        <div class="navbar navbar-fixed-top affected-by-sidepanel">
            <div class="navbar-inner">
                <ul class="nav pull-left">
                    <img class="sidepanel-icon affected-by-sidepanel"><img class="separator">
                    <span class="navbar-header">Workplan</span>
                </ul>
            </div>
        </div>
        <div id="content" class="content affected-by-sidepanel">
            <div class="container-fluid dropdown dropdown-filter">
                <a class="btn dropdown-toggle toggle-filter filter-by-village" data-toggle="dropdown">
                    Show: All
                    <span class="caret pull-right"></span>
                </a>
                <ul id="menu-village" class="dropdown-menu dropdown-menu-filter">
                </ul>
            </div>
        </div>
    </div>
</div>

</body>

<script src="../js/jquery.min.js"></script>
<script src="../js/jquery-ui-1.8.23.custom.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/handlebars-1.0.rc.1.min.js"></script>

<script src="../js/custom.ui.js"></script>
<script src="../template/templates.js"></script>
<script src="../js/anmNavigation.js"></script>
<script src="../js/sidePanel.js"></script>
<script src="../js/alerts.js"></script>
<script src="../js/international_text.js"></script>

<script src="../js/workplan.js"></script>
<script>
    $(document).ready(function () {
        var cssIdOf = {
            rootElement: "#content",
            villageFilter: "#menu-village",
            villageFilterOptions: ".dropdown-option",
            appliedFilterIndicator: ".filter-by-village",
            overdueContainer: "#overdue",
            upcomingContainer: "#upcoming",
            completedContainer: "#completed",
            overdueTodosCount: "#overdue-count",
            upcomingTodosCount: "#upcoming-count",
            completedTodosCount: "#completed-count"
        };

        var workplan = new Workplan(new WorkplanBridge(), cssIdOf);
        workplan.populateInto("#content");
        workplan.populateVillageFilter();
        workplan.bindToVillageFilter();

        new SidePanel(new ANMNavigationPanel(new ANMNavigationBridge())).populateInto("#sidePanelContainer");

        new Alerts().bindAllCheckboxes(".todo-box", workplan.onAlertCheckboxClick);
    });
</script>

</html>

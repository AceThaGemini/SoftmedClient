<div class="span6 full-height span-no-margin width-without-margins">
    <div class="row-fluid full-height">
        <div class="span3 line-right span-no-margin width-without-margins span-content">
            {{client.risk_factors}}
        </div>
        <div data-ng-repeat="schedule in ['anc', 'tt', 'ifa']"
             class="visits span3 line-right span-no-margin width-without-margins span-content">
            <div class="relative-positioning">
                <ng:switch on="client.visits[schedule].next.name">
                    <button ng-switch-when="null" class="btn btn-primary btn-sr btn-done">
                        <div class="done-icon full-height"><i class="icon-ok green"></i></div>
                        <span class="text-bold text-upper">{{client.visits[schedule].previous.name}}</span>
                        <br/>
                        <span>done {{client.visits[schedule].previous.visit_date | date:'dd/MM'}}</span>
                    </button>
                    <button ng-switch-when="TT Booster" class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-click="openMicroForm('tt_booster', client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>

                    <button ng-switch-when="TT 1" class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-click="openMicroForm('tt_1', client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>

                    <button ng-switch-when="TT 2" class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-click="openMicroForm('tt_2', client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>

                    <button ng-switch-when="IFA 1" class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-click="openMicroForm(schedule, client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>

                    <button ng-switch-when="IFA 2" class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-click="openMicroForm(schedule, client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>

                    <button ng-switch-when="IFA 3" class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-click="openMicroForm(schedule, client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>

                    <button ng-switch-default
                            class="btn btn-primary btn-sr"
                            ng-class="client.visits[schedule].next.status"
                            ng-show="client.visits[schedule].next"
                            ng-click="openForm('anc_visit', client.entityId)">
                        <span class="text-bold text-upper">{{client.visits[schedule].next.name}}</span>
                        <br/>
                        <span ng-show="client.visits[schedule].next.status == 'upcoming'">Upcoming</span>
                        <span ng-show="client.visits[schedule].next.status == 'normal' || client.visits[schedule].next.status == 'urgent'">Due</span>
                        <span> {{client.visits[schedule].next.visit_date | date:'dd/MM'}}</span>
                    </button>
                </ng:switch>
                <span ng-show="client.visits[schedule].previous" class="previous-alert">
                    <i class="icon-ok green"></i>
                    <ng:switch on="client.visits[schedule].previous.name">
                        <span ng-switch-default class="text-upper">{{client.visits[schedule].previous.name}}:</span>
                        <span ng-switch-when="TT Booster" class="text-upper">TT B:</span>
                    </ng:switch>
                    {{client.visits[schedule].previous.visit_date | date:'dd/MM'}}
                </span>
            </div>
        </div>
    </div>
</div>

<div class="span1 full-height span-no-margin width-without-margins span-content">
    <button class="btn btn-primary btn-large normal btn-sr full-height" ng-click="openANCFormModal(client.entityId)">
        <center><i class="icon-pencil icon-large"></i></center>
    </button>
</div>


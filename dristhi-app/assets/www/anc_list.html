<!DOCTYPE HTML>
<html>
<head>
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/custom.css" rel="stylesheet">
    <link href="../css/sidepanel.css" rel="stylesheet">
    <link href="../css/list.css" rel="stylesheet">

    <meta name="viewport" charset="utf-8"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<body>
<div class="page affected-by-sidepanel">
    <div id="sidePanelContainer"></div>

    <div id="mainpanel" class="mainpanel affected-by-sidepanel">
        <div class="navbar navbar-fixed-top affected-by-sidepanel">
            <div class="navbar-inner">
                <ul class="nav pull-left">
                    <li id="sidepanel-button">
                        <img class="sidepanel-icon affected-by-sidepanel"><img class="separator">
                    </li>
                    <li>
                        <div class="navbar-header">ANC</div>
                    </li>
                </ul>
                <ul id="search-container" class="nav search-container affected-by-sidepanel">
                    <li class="match-parents-width">
                        <form id="search-form" class="navbar-search match-parents-width">
                            <input id="search-box" type="text" class="search-query search-box" placeholder="Search">
                        </form>
                    </li>
                </ul>
                <ul class="nav pull-right affected-by-sidepanel">
                    <li><img class="separator"></li>
                    <li id="plusButton" data-form="ANC_REGISTER"><img src="../img/icons/icon_plus.png"></li>
                    <li id="cancel-search" class="cancel-search hidden">Cancel</li>
                </ul>
            </div>
        </div>

        <div id="content" class="content affected-by-sidepanel">
            <div class="container-fluid dropdown dropdown-filter">
                <a class="btn dropdown-toggle toggle-filter filter-by-village" data-toggle="dropdown">
                    Show: All
                    <span class="caret pull-right"></span>
                </a>
                <ul id="menu-village" class="dropdown-menu dropdown-menu-filter">
                </ul>
            </div>
            <p id="noItemIndicator" class="text-info text-on-list hidden">
                No items to display
            </p>
            <div id="anc-list" class="registry-container container-fluid">
                <div id="highRiskContainer" class="high-risk-container">
                    <div class="high-risk-header"> HIGH RISK (<span class="count"></span>)</div>
                    <div class="divider divider-padding-both"></div>
                    <div class="high-risk-list"></div>
                </div>

                <div id="normalRiskContainer">
                    <div class="normal-risk-header"> NORMAL RISK (<span class="count"></span>)</div>
                    <div class="divider divider-padding-both"></div>
                    <div class="normal-risk-list"></div>
                </div>
            </div>
            <div id="loadAllButton" class="registry-container container-fluid">
                <button class="btn btn-large match-parents-width">Load All</button>
            </div>
            <div id="loadingButton" class="registry-container container-fluid hidden">
                <button class="btn btn-large btn-info match-parents-width">Loading...</button>
            </div>
        </div>
    </div>
</div>
</body>

<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/handlebars.runtime.js"></script>

<script src="../js/custom.ui.js"></script>
<script src="../template/templates.js"></script>
<script src="../js/anmNavigation.js"></script>
<script src="../js/sidePanel.js"></script>
<script src="../js/list_view.js"></script>

<script src="../js/anc_list.js"></script>
<script src="../js/international_text.js"></script>

<script>
    $(document).ready(function () {
        var cssIdOf = {
            rootElement: "#anc-list",
            everyListItem: ".client-list-item",
            priorityContainer: "#anc-list #highRiskContainer",
            priorityListContainer: "#anc-list #highRiskContainer .high-risk-list",
            priorityBeneficiaryCount: "#anc-list #highRiskContainer .count",
            normalContainer: "#anc-list #normalRiskContainer",
            normalListContainer: "#anc-list #normalRiskContainer .normal-risk-list",
            normalBeneficiaryCount: "#anc-list #normalRiskContainer .count",
            commCareItems: "#plusButton",
            villageFilter: "#menu-village",
            villageFilterOptions: ".dropdown-option",
            appliedFilterIndicator: ".filter-by-village",
            searchBox: "#search-box",
            sidePanelButton: "#sidepanel-button",
            addButton: "#plusButton",
            cancelSearchButton: "#cancel-search",
            searchContainer: "#search-container",
            expandedSearchContainerClass: "expanded-search-container",
            noItemIndicator: "#noItemIndicator",
            searchForm: "#search-form",
            loadAllButton: "#loadAllButton",
            loadingButton: "#loadingButton"
        };

        var list = new ANCList(new ANCListBridge(), cssIdOf);
        list.populateInto();
        list.bindEveryItemToANCView();
        list.bindItemToCommCare();

        list.populateVillageFilter();
        list.bindVillageFilterOptions();
        list.bindSearchEvents();
        list.bindLoadAll();

        new SidePanel(new ANMNavigationPanel(new ANMNavigationBridge())).populateInto("#sidePanelContainer");
    });
</script>

</html>
